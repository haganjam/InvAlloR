<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Detailed description of the output • InvAlloR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Detailed description of the output">
<meta name="description" content="Notes on the model forms used in package.
">
<meta property="og:description" content="Notes on the model forms used in package.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">InvAlloR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/InvAlloR-detailed-output-description.html">Detailed description of the output</a></li>
    <li><a class="dropdown-item" href="../articles/InvAlloR-technical-information.html">Description of the model forms for the equations</a></li>
    <li><a class="dropdown-item" href="../articles/InvAlloR-user-guide.html">Using InvAlloR</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/haganjam/InvAlloR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Detailed description of the output</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/haganjam/InvAlloR/blob/main/vignettes/InvAlloR-detailed-output-description.Rmd" class="external-link"><code>vignettes/InvAlloR-detailed-output-description.Rmd</code></a></small>
      <div class="d-none name"><code>InvAlloR-detailed-output-description.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The main function exported from <code>InvAlloR</code> is called:
<code><a href="../reference/get_trait_from_taxon.html">get_trait_from_taxon()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_trait_from_taxon.html">get_trait_from_taxon</a></span><span class="op">(</span></span>
<span>    <span class="va">data</span>,                   <span class="co"># data.frame with at least five columns: target taxon, life stage, latitude (dd), longitude (dd) and body size (mm) if trait == "equation"</span></span>
<span>    <span class="va">target_taxon</span>,           <span class="co"># character string with the column name containing the taxon names</span></span>
<span>    <span class="va">life_stage</span>,             <span class="co"># character string with the column name containing the life stages</span></span>
<span>    <span class="va">latitude_dd</span>,            <span class="co"># character string with the column name containing the latitude in decimal degrees</span></span>
<span>    <span class="va">longitude_dd</span>,           <span class="co"># character string with the column name containing the longitude in decimal degrees</span></span>
<span>    <span class="va">body_size</span>,              <span class="co"># character string with the column name containing the body size data if trait = "equation"</span></span>
<span>    workflow <span class="op">=</span> <span class="st">"workflow2"</span>, <span class="co"># options are "workflow1" or "workflow2" (default = "workflow2)</span></span>
<span>    max_tax_dist <span class="op">=</span> <span class="fl">3</span>,       <span class="co"># maximum taxonomic distance acceptable between the target and the taxa in the database (default = 3)</span></span>
<span>    trait <span class="op">=</span> <span class="st">"equation"</span>,     <span class="co"># trait to be searched for (default = "equation")</span></span>
<span>    gen_sp_dist <span class="op">=</span> <span class="fl">0.5</span>       <span class="co"># taxonomic distance between a genus and a species(default = 0.5)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This generates a relatively complex output and this vignette gives a
detailed description of the different outputs. The output of
<code><a href="../reference/get_trait_from_taxon.html">get_trait_from_taxon()</a></code> is a list with two data.frames as
named elements: <code>data</code> and <code>decision_data</code>.</p>
<div class="section level3">
<h3 id="data-element">
<code>data</code> element<a class="anchor" aria-label="anchor" href="#data-element"></a>
</h3>
<div class="section level4">
<h4 id="workflow1-and-workflow2">
<em>workflow1</em> and <em>workflow2</em><a class="anchor" aria-label="anchor" href="#workflow1-and-workflow2"></a>
</h4>
<ul>
<li><p>row [int] - variable specifying the row number from the original,
input data.frame</p></li>
<li><p>(input column names) - all the different variables from the
original, input data.frame. Inevitably, these must include columns for:
taxon name, life-stage, latitude-longitude coordinates and body length
data</p></li>
<li><p>habitat_id [num] - id number designating the biogeographic realm,
major habitat type and ecoregion from Abell et al.’s (2008) freshwater
ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>realm [chr] - biogeographic realm based on Abell et al.’s (2008)
freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>major_habitat_type [chr] - major habitat type based on Abell et
al.’s (2008) freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>ecoregion [chr] - ecoregion based on Abell et al.’s (2008)
freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>clean_“taxon name variable” [chr] - target taxon name after
checking for typos and the inclusion of atypical characters which is
done using <code>bdc_clean_names()</code> from the <code>bdc</code>
R-package. The variable name is the taxon name variable from the
original, input data with the “clean_” prefix</p></li>
<li><p>db [chr] - taxonomic database (gbif - <a href="https://www.gbif.org/" class="external-link uri">https://www.gbif.org/</a>, itis
- <a href="https://www.itis.gov/" class="external-link uri">https://www.itis.gov/</a>
or col - <a href="https://www.catalogueoflife.org/" class="external-link uri">https://www.catalogueoflife.org/</a>)</p></li>
<li><p>scientificName [chr] - scientific name of the taxon from the
original, input data in one of the taxonomic databases (see db
column)</p></li>
<li><p>taxonRank [chr] - taxonomic rank of the scientificName in one of
the taxonomic databases (see db column)</p></li>
<li><p>acceptedNameUsageID [chr] - unique code associated with the
scientificName for the taxonomic database (see db column)</p></li>
<li><p>taxon_order [chr] - order of the scientificName in the one of the
taxonomic databases (see db column)</p></li>
<li><p>taxon_family [chr] - family of the scientificName in the one of
the taxonomic databases (see db column)</p></li>
<li><p>trait_out [chr] - specifies the trait that is being queried. The
current version of <code>InvAlloR</code> only supports “equation” but
future updates may include other traits.</p></li>
<li><p>db_scientificName [chr] - scientific name of the taxon associated
with the equation in the equation data based on one of the taxonomic
databases (see db column)</p></li>
<li><p>id [num] - unique id associated with the trait datapoint in the
trait databases. The current version of <code>InvAlloR</code> only
supports equations and so this id corresponds to a unique id of each of
the more than 350 equations in the equation database.</p></li>
<li><p>tax_distance [num] - taxonomic distance between the
<em>scientificName</em> of the taxon from the original input data and
the <em>db_scientificName</em> of the taxon from the equation database
based on one of the taxonomic databases (see db column)</p></li>
<li><p>body_size_range_match [logi] - TRUE/FALSE whether the target body
size from the original, input data is within the body size range that
the given equation was developed for (within a 30% error margin on each
side)</p></li>
<li><p>life_stage_match [logi] - TRUE/FALSE whether the target
life-stage from the original, input data matches the life-stage of the
equation</p></li>
<li><p>r2_match [num] - coefficient of determination (r^2) of the
equation in the database</p></li>
<li><p>n [num] - number of samples used to generate the equation in the
database</p></li>
<li><p>db_min_body_size_mm [num] - minimum body size (mm) of the data
used to generate the equation in the database</p></li>
<li><p>db_max_body_size_mm [num] - maximum body size (mm) of the data
used to generate the equation in the database</p></li>
<li><p>realm_match [logi] - TRUE/FALSE whether the lat-lon data in the
original, input data provide the same biogeographic realm as the
biogeographic realm from the location that the taxa were sampled when
the equation was generated. As previously, the biogeographic realm was
based on Abell et al.’s (2008) freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>major_habitat_type_match [logi] - TRUE/FALSE whether the lat-lon
data in the original, input data provide the same major habitat type as
the major habitat type from the location that the taxa were sampled when
the equation was generated. As previously, the major habitat type was
based on Abell et al.’s (2008) freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>ecoregion_match [logi] - TRUE/FALSE whether the lat-lon data in
the original, input data provide the same ecoregion as the ecoregion
from the location that the taxa were sampled when the equation was
generated. As previously, the ecoregion was based on Abell et al.’s
(2008) freshwater ecoregion map (<a href="https://www.feow.org/" class="external-link uri">https://www.feow.org/</a>)</p></li>
<li><p>preservation [chr] - method used to preserve the specimens that
were used to generate the equation: “none” - no preservation, “ethanol”
- preserved in ethanol and “formaldehyde” - preserved in
formaldehyde</p></li>
<li><p>equation_form [chr] - the database supports two types of
equation: “model1” - the log-log linear equation and “model2” -
non-linear equation. See documentation for details of these
models</p></li>
<li><p>log_base [num] - base of log for “model1” equations</p></li>
<li><p>a [num] - a parameter for the “model1” and “model2” equations.
See documentation for details of these models</p></li>
<li><p>b [num] - b parameter for the “model1” and “model2” equations.
See documentation for details of these models</p></li>
</ul>
<p>lm_corrrection [num] - corrections for “model1” equations to remove
the bias associated with back-transforming predictions made on the
log-log scale to the natural scale. See documentation for details.</p>
<p>lm_correction_type [chr] - the specific correction factor used for
“model1” equations which are based on the availability of information
like the mean squared errors from the original papers. See documentation
for details.</p>
<p>dry_biomass_scale [num] - multiplier to convert the equation output
to mg</p>
</div>
<div class="section level4">
<h4 id="workflow2-only">
<em>workflow2</em> only:<a class="anchor" aria-label="anchor" href="#workflow2-only"></a>
</h4>
<p>dry_biomass_mg [num] - dry biomass (mg) derived for the body size
given in the original, input data using the chosen equation</p>
</div>
</div>
<div class="section level3">
<h3 id="decision_data-element">
<code>decision_data</code> element<a class="anchor" aria-label="anchor" href="#decision_data-element"></a>
</h3>
<p>For the <code>decision_data</code> element, much of the output is the
same. Specifically, the following columns have the same variables and,
therefore, we do not repeat the explanations. These variables are:</p>
<ul>
<li>row [int]</li>
<li>(input column names)</li>
<li>habitat_id [num]</li>
<li>realm [chr]</li>
<li>major_habitat_type [chr]</li>
<li>ecoregion [chr]</li>
<li>clean_“taxon name variable” [chr]</li>
<li>db [chr]</li>
<li>scientificName [chr]</li>
<li>taxonRank [chr]</li>
<li>acceptedNameUsageID [chr]</li>
<li>taxon_order [chr]</li>
<li>taxon_family [chr]</li>
<li>trait_out [chr]</li>
<li>db_scientificName [chr]</li>
<li>id [num]</li>
<li>tax_distance [num]</li>
<li>body_size_range_match [logi]</li>
<li>life_stage_match [logi]</li>
<li>r2_match [num]</li>
<li>n [num]</li>
<li>db_min_body_size_mm [num]</li>
<li>db_max_body_size_mm [num]</li>
<li>realm_match [logi]</li>
<li>major_habitat_type_match [logi]</li>
<li>ecoregion_match [logi]</li>
</ul>
<p>There are, however, three additional columns:</p>
<ul>
<li><p>recommend [logi] - TRUE/FALSE whether <code>InvAlloR</code>
recommends this equation. The recommendation is based on the taxonomic
distance, the target body size compared to the body size range that the
equation was generated with and whether the life-stage of the target and
the equation match. If FALSE, an explanation for why it is not
recommended is given in the next column.</p></li>
<li><p>explanation [chr] - explanation for why a given equation is not
recommended</p></li>
<li><p>workflow2_choice [logi] - TRUE/FALSE whether
<code>InvAlloR</code> would select this equation using
<code>workflow2</code></p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Hagan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
